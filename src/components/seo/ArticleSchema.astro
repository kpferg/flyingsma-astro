---
/**
 * Article Schema
 * Provides structured data for news articles and blog posts
 */

import Schema from './Schema.astro';
import site from '../../data/site.json';

interface Props {
  title: string;
  description?: string;
  image?: string;
  datePublished: Date;
  dateModified?: Date;
  author?: string;
  url: string;
}

const {
  title,
  description = '',
  image,
  datePublished,
  dateModified,
  author = site.name,
  url,
} = Astro.props;

const schema = {
  '@context': 'https://schema.org',
  '@type': 'Article',
  headline: title,
  description: description,
  image: image || 'https://www.flyingsma.com/images/sma-hero.jpg',
  datePublished: datePublished.toISOString(),
  dateModified: (dateModified || datePublished).toISOString(),
  author: {
    '@type': 'Organization',
    name: author,
    url: 'https://www.flyingsma.com',
  },
  publisher: {
    '@type': 'Organization',
    name: site.name,
    logo: {
      '@type': 'ImageObject',
      url: 'https://www.flyingsma.com/images/sma-logo.png',
    },
  },
  mainEntityOfPage: {
    '@type': 'WebPage',
    '@id': url,
  },
};
---

<Schema data={schema} />
